server {
	listen              443 ssl;
	listen				80;
    server_name         MinecraftServerManager;
    ssl_certificate     /home/mel/workspace/MinecraftServerDaemon/web-client/html/cert.pem;
    ssl_certificate_key /home/mel/workspace/MinecraftServerDaemon/web-client/html/key.pem;
    ssl_password_file   /home/mel/workspace/MinecraftServerDaemon/web-client/html/pass.file;
    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers         HIGH:!aNULL:!MD5;
	root /home/mel/workspace/MinecraftServerDaemon/web-client/html/;
	location / {
		index manager.html;
	}
	location /websocket {
		# Redirect all HTTP traffic to localhost:8080
    	proxy_pass http://localhost:8080;
    	proxy_set_header X-Real-IP $remote_addr;
    	proxy_set_header Host $host;
	    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

    	# WebSocket support
    	proxy_http_version 1.1;
    	proxy_set_header Upgrade $http_upgrade;
    	proxy_set_header Connection "upgrade";
    	
    	#Timeout 
    	proxy_read_timeout 86400s;
		proxy_send_timeout 86400s;
	}
	location /nginx_status {
        # Turn on stats
        stub_status on;
        access_log  on;
   }
}